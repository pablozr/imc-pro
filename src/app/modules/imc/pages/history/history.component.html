<app-header></app-header>
<div class="main-container">
  <h1>Histórico de IMC</h1>

  <p-card class="table-card" >
    <p-table [value]="historico">
      <ng-template pTemplate="header">
        <tr>
          <th>Data</th>
          <th>Peso (kg)</th>
          <th>Altura (cm)</th>
          <th>IMC</th>
          <th>Classificação</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-item>
        <tr>
          <td>{{ item.data | date: 'short' }}</td>
          <td>{{ item.peso }}</td>
          <td>{{ item.altura }}</td>
          <td>{{ item.imc }}</td>
          <td>{{ item.classificacao }}</td>
        </tr>
      </ng-template>
    </p-table>

    <div *ngIf="historico.length === 0" class="empty-message">
      <p>Nenhum resultado ainda.</p>
    </div>
  </p-card>

  <p-card header="Gráfico de IMC por data">
    <app-imc-chart></app-imc-chart>
  </p-card>

  <div class="button-container p-mt-4">
    <p-button label="Limpar Histórico" icon="pi pi-trash" (onClick)="clearHistory()" styleClass="p-button-danger"></p-button>
    <p-button label="Voltar para a Calculadora" icon="pi pi-arrow-left" [routerLink]="['/imc-calculator']"></p-button>
  </div>
</div>